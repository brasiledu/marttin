{% extends "base.html" %}
{% load static %}

{% block title %}Dashboard - Marttin AI{% endblock %}

{% block extra_css %}
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 25%, #334155 50%, #475569 75%, #1e293b 100%);
        background-attachment: fixed;
        color: #e2e8f0;
        line-height: 1.6;
        min-height: 100vh;
        overflow-x: hidden;
    }

    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 30%, rgba(251, 191, 36, 0.04) 0%, transparent 20%),
            radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.04) 0%, transparent 20%);
        pointer-events: none;
        z-index: -1;
    }

    .dashboard-container {
        padding: 20px;
        max-width: 1400px;
        margin: 0 auto;
        position: relative;
        z-index: 2;
    }

    /* Header Section */
    .dashboard-header {
        background: rgba(15, 23, 42, 0.85);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255,255,255,0.15);
                border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 25px 50px rgba(0,0,0,0.4);
    }

    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
    }

    .welcome-text h1 {
        font-size: 28px;
        font-weight: 700;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 8px;
    }

    .welcome-text p {
        color: #94a3b8;
        font-size: 16px;
    }

    .header-stats {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
    }

    .stat-item {
        text-align: center;
        padding: 12px 20px;
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.2);
        border-radius: 12px;
        min-width: 100px;
    }

    .stat-number {
        font-size: 20px;
        font-weight: 700;
        color: #fbbf24;
        display: block;
    }

    .stat-label {
        font-size: 12px;
        color: #94a3b8;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Dashboard Navigation */
    .dashboard-navigation {
        display: flex;
        gap: 0;
        height: calc(100vh - 140px);
        background: rgba(15, 23, 42, 0.85);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255,255,255,0.15);
        border-radius: 20px;
        overflow: hidden;
    }

    .nav-sidebar {
        width: 280px;
        background: rgba(15, 23, 42, 0.95);
        border-right: 1px solid rgba(255,255,255,0.1);
        padding: 30px 0;
        overflow-y: auto;
        flex-shrink: 0;
    }

    .nav-section {
        margin-bottom: 30px;
        padding: 0 20px;
    }

    .nav-section-title {
        color: #94a3b8;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 15px;
        padding-left: 15px;
    }

    .nav-item {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 12px 15px;
        background: none;
        border: none;
        color: #94a3b8;
        border-radius: 12px;
        margin-bottom: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
        text-align: left;
    }

    .nav-item:hover {
        background: rgba(251, 191, 36, 0.1);
        color: #fbbf24;
        transform: translateX(5px);
    }

    .nav-item.active {
        background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.1));
        color: #fbbf24;
        border: 1px solid rgba(251, 191, 36, 0.3);
        box-shadow: 0 4px 15px rgba(251, 191, 36, 0.1);
    }

    .nav-item i {
        margin-right: 12px;
        width: 16px;
        text-align: center;
    }

    .main-panel {
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 30px 40px 20px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .panel-title {
        font-size: 28px;
        font-weight: 700;
        color: #e2e8f0;
        margin: 0;
    }

    .panel-actions {
        display: flex;
        gap: 12px;
    }

    .panel-action-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.3);
        border-radius: 10px;
        color: #fbbf24;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .panel-action-btn:hover {
        background: rgba(251, 191, 36, 0.2);
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(251, 191, 36, 0.2);
    }

    /* Dashboard Views */
    .dashboard-view {
        flex: 1;
        padding: 30px 40px;
        overflow-y: auto;
        display: none;
    }

    .dashboard-view.active {
        display: block;
    }

    .view-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 25px;
    }

    .view-card {
        background: rgba(30, 58, 138, 0.05);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 16px;
        padding: 25px;
        transition: all 0.3s ease;
    }

    .view-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        border-color: rgba(251, 191, 36, 0.2);
    }

    .view-card.large-card {
        grid-column: span 2;
    }

    .view-card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
    }

    .view-card-title {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 18px;
        font-weight: 600;
        color: #e2e8f0;
    }

    .view-card-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        color: #1e3a8a;
    }

    /* Additional Styles for New Components */
    .ideas-generator {
        text-align: center;
        padding: 30px 20px;
        color: #94a3b8;
    }

    .ideas-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .idea-item {
        background: rgba(15, 23, 42, 0.3);
        border: 1px solid rgba(255,255,255,0.05);
        border-radius: 10px;
        padding: 15px;
    }

    .idea-title {
        font-weight: 600;
        color: #e2e8f0;
        margin-bottom: 5px;
    }

    .idea-description {
        color: #94a3b8;
        font-size: 14px;
        margin-bottom: 10px;
    }

    .idea-tags {
        display: flex;
        gap: 8px;
    }

    .tag {
        background: rgba(251, 191, 36, 0.1);
        color: #fbbf24;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 500;
    }

    .social-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 15px;
        text-align: center;
    }

    .social-metrics .metric {
        background: rgba(15, 23, 42, 0.3);
        padding: 15px 10px;
        border-radius: 10px;
    }

    .insights-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .insight-item {
        background: rgba(30, 58, 138, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 20px;
        border-left: 4px solid;
    }

    .insight-item.priority-high {
        border-left-color: #ef4444;
    }

    .insight-item.priority-medium {
        border-left-color: #fbbf24;
    }

    .insight-item.priority-low {
        border-left-color: #10b981;
    }

    .insight-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }

    .insight-title {
        font-weight: 600;
        color: #e2e8f0;
    }

    .insight-priority {
        font-size: 12px;
        padding: 4px 8px;
        border-radius: 6px;
        font-weight: 600;
    }

    .insight-description {
        color: #94a3b8;
        margin-bottom: 15px;
        line-height: 1.5;
    }

    .insight-action {
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.3);
        color: #fbbf24;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .insight-action:hover {
        background: rgba(251, 191, 36, 0.2);
        transform: translateY(-1px);
    }

    .trends-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .trend-item {
        background: rgba(15, 23, 42, 0.3);
        border: 1px solid rgba(255,255,255,0.05);
        border-radius: 10px;
        padding: 20px;
    }

    .trend-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }

    .trend-title {
        font-weight: 600;
        color: #e2e8f0;
    }

    .trend-impact {
        background: rgba(251, 191, 36, 0.1);
        color: #fbbf24;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
    }

    .trend-description {
        color: #94a3b8;
        line-height: 1.5;
    }

    /* Activity Timeline */
    .activity-timeline {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .timeline-item {
        display: flex;
        align-items: flex-start;
        gap: 15px;
    }

    .timeline-marker {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .timeline-marker.marketing {
        background: rgba(239, 68, 68, 0.2);
        color: #ef4444;
    }

    .timeline-marker.sales {
        background: rgba(16, 185, 129, 0.2);
        color: #10b981;
    }

    .timeline-marker.content {
        background: rgba(59, 130, 246, 0.2);
        color: #3b82f6;
    }

    .timeline-marker.ai {
        background: rgba(168, 85, 247, 0.2);
        color: #a855f7;
    }

    .timeline-content {
        flex: 1;
    }

    .timeline-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 5px;
    }

    .timeline-title {
        font-weight: 600;
        color: #e2e8f0;
    }

    .timeline-time {
        color: #94a3b8;
        font-size: 12px;
    }

    .timeline-description {
        color: #94a3b8;
        font-size: 14px;
        line-height: 1.5;
    }

    /* Large Action Button */
    .action-btn.large {
        padding: 15px 25px;
        font-size: 16px;
        width: 100%;
        justify-content: center;
        margin-top: 15px;
    }

    /* Main Grid */
    .dashboard-grid {
        display: none;
    }

    .dashboard-card {
        background: rgba(15, 23, 42, 0.85);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255,255,255,0.15);
        border-radius: 16px;
        padding: 25px;
        box-shadow: 0 25px 50px rgba(0,0,0,0.4);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .dashboard-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
    }

    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 30px 60px rgba(0,0,0,0.5);
        border-color: rgba(251, 191, 36, 0.3);
    }

    .card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
    }

    .card-title {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 18px;
        font-weight: 600;
        color: #e2e8f0;
    }

    .card-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        color: #1e3a8a;
    }

    .card-action {
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.3);
        color: #fbbf24;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.2s ease;
    }

    .card-action:hover {
        background: rgba(251, 191, 36, 0.2);
        color: #fbbf24;
        text-decoration: none;
        transform: translateY(-1px);
    }

    /* Quick Actions */
    .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }

    .action-btn {
        background: rgba(255,255,255,0.08);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255,255,255,0.15);
        padding: 16px;
        border-radius: 12px;
        color: #e2e8f0;
        text-decoration: none;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 500;
    }

    .action-btn:hover {
        background: rgba(251, 191, 36, 0.15);
        border-color: rgba(251, 191, 36, 0.3);
        color: #fbbf24;
        text-decoration: none;
        transform: translateY(-2px);
    }

    .action-btn i {
        font-size: 20px;
        color: #fbbf24;
    }

    /* Analytics Section */
    .analytics-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
    }

    .metric-item {
        text-align: center;
        padding: 20px;
        background: rgba(251, 191, 36, 0.05);
        border-radius: 12px;
        border: 1px solid rgba(251, 191, 36, 0.1);
    }

    .metric-number {
        font-size: 24px;
        font-weight: 700;
        color: #fbbf24;
        display: block;
        margin-bottom: 5px;
    }

    .metric-label {
        font-size: 14px;
        color: #94a3b8;
    }

    .metric-change {
        font-size: 12px;
        margin-top: 5px;
    }

    .metric-change.positive {
        color: #10b981;
    }

    .metric-change.negative {
        color: #ef4444;
    }

    /* AI Insights */
    .insights-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .insight-item {
        background: rgba(59, 130, 246, 0.05);
        border: 1px solid rgba(59, 130, 246, 0.1);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
    }

    .insight-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
    }

    .insight-type {
        background: rgba(59, 130, 246, 0.2);
        color: #3b82f6;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
    }

    .insight-priority {
        background: rgba(251, 191, 36, 0.2);
        color: #fbbf24;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 600;
    }

    .insight-text {
        color: #cbd5e1;
        line-height: 1.6;
        margin-bottom: 10px;
    }

    .insight-action {
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        color: #1e3a8a;
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .insight-action:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
    }

    /* Goals Progress */
    .goals-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .goal-item {
        margin-bottom: 20px;
    }

    .goal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
    }

    .goal-name {
        font-size: 14px;
        font-weight: 600;
        color: #e2e8f0;
    }

    .goal-percentage {
        font-size: 12px;
        color: #fbbf24;
        font-weight: 600;
    }

    .progress-bar {
        width: 100%;
        height: 8px;
        background: rgba(255,255,255,0.1);
        border-radius: 4px;
        overflow: hidden;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        border-radius: 4px;
        transition: width 1s ease;
    }

    /* Recent Activity */
    .activity-list {
        max-height: 300px;
        overflow-y: auto;
    }

    .activity-item {
        padding: 15px 0;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        display: flex;
        align-items: flex-start;
        gap: 15px;
    }

    .activity-item:last-child {
        border-bottom: none;
    }

    .activity-icon {
        width: 32px;
        height: 32px;
        background: rgba(251, 191, 36, 0.1);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fbbf24;
        font-size: 14px;
        flex-shrink: 0;
    }

    .activity-content {
        flex: 1;
    }

    .activity-title {
        font-size: 14px;
        font-weight: 500;
        color: #e2e8f0;
        margin-bottom: 4px;
    }

    .activity-description {
        font-size: 12px;
        color: #94a3b8;
        margin-bottom: 4px;
    }

    .activity-time {
        font-size: 11px;
        color: #64748b;
    }

    /* Market Trends */
    .trends-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .trend-item {
        padding: 15px;
        background: rgba(16, 185, 129, 0.05);
        border: 1px solid rgba(16, 185, 129, 0.1);
        border-radius: 12px;
        margin-bottom: 15px;
    }

    .trend-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
    }

    .trend-title {
        font-size: 14px;
        font-weight: 600;
        color: #e2e8f0;
    }

    .trend-impact {
        background: rgba(16, 185, 129, 0.2);
        color: #10b981;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 600;
    }

    .trend-description {
        font-size: 12px;
        color: #94a3b8;
        line-height: 1.5;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .dashboard-container {
            padding: 15px;
        }

        .dashboard-grid {
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .wide-card {
            grid-column: span 1;
        }

        .real-time-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .widget-value {
            font-size: 24px;
        }

        .campaign-metrics {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .calendar-grid {
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            min-height: 80px;
            padding: 5px 3px;
        }

        .scheduled-post {
            padding: 2px 4px;
            font-size: 9px;
        }

        .day-header {
            font-size: 10px;
            margin-bottom: 4px;
        }

        .notification {
            top: 10px;
            right: 10px;
            left: 10px;
            min-width: auto;
            max-width: none;
            transform: translateY(-100px);
        }

        .notification-show {
            transform: translateY(0);
        }
    }

    @media (max-width: 480px) {
        .header-stats {
            justify-content: center;
        }

        .stat-item {
            min-width: 80px;
            padding: 8px 12px;
        }

        .real-time-grid {
            grid-template-columns: 1fr;
        }

        .campaign-metrics {
            grid-template-columns: 1fr;
            text-align: center;
        }

        .calendar-header h4 {
            font-size: 14px;
        }

        .calendar-nav {
            padding: 6px 8px;
        }
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
        .dashboard-navigation {
            flex-direction: column;
            height: auto;
        }

        .nav-sidebar {
            width: 100%;
            display: flex;
            flex-direction: row;
            padding: 20px;
            overflow-x: auto;
            border-right: none;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .nav-section {
            display: flex;
            flex-direction: column;
            margin-bottom: 0;
            margin-right: 30px;
            min-width: 200px;
        }

        .panel-header {
            padding: 20px 30px 15px;
        }

        .panel-title {
            font-size: 24px;
        }

        .dashboard-view {
            padding: 20px 30px;
        }

        .view-grid {
            grid-template-columns: 1fr;
        }

        .view-card.large-card {
            grid-column: span 1;
        }
    }

    @media (max-width: 768px) {
        .dashboard-header {
            padding: 20px;
        }

        .header-content {
            flex-direction: column;
            align-items: flex-start;
        }

        .welcome-text h1 {
            font-size: 24px;
        }

        .header-stats {
            width: 100%;
            justify-content: space-between;
        }

        .nav-sidebar {
            flex-direction: column;
            padding: 15px;
        }

        .nav-section {
            margin-right: 0;
            margin-bottom: 20px;
            min-width: auto;
        }

        .panel-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 15px;
            padding: 15px 20px;
        }

        .panel-actions {
            width: 100%;
            justify-content: flex-start;
        }

        .dashboard-view {
            padding: 15px 20px;
        }

        .view-card {
            padding: 20px;
        }
    }

    @media (max-width: 480px) {
        .dashboard-header {
            padding: 15px;
        }

        .header-stats {
            flex-direction: column;
            gap: 12px;
        }

        .stat-item {
            width: 100%;
        }

        .nav-item {
            padding: 10px 12px;
            font-size: 13px;
        }

        .panel-action-btn {
            padding: 8px 12px;
            font-size: 13px;
        }

        .view-card {
            padding: 15px;
        }

        .calendar-grid {
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            min-height: 60px;
            padding: 3px 2px;
        }

        .day-header {
            font-size: 10px;
            margin-bottom: 3px;
        }

        .scheduled-post {
            padding: 2px 3px;
            font-size: 8px;
        }
    }

    /* Custom scrollbar for sidebar */
    .nav-sidebar::-webkit-scrollbar {
        width: 4px;
        height: 4px;
    }

    .nav-sidebar::-webkit-scrollbar-track {
        background: transparent;
    }

    .nav-sidebar::-webkit-scrollbar-thumb {
        background: rgba(251, 191, 36, 0.3);
        border-radius: 2px;
    }

    .nav-sidebar::-webkit-scrollbar-thumb:hover {
        background: rgba(251, 191, 36, 0.5);
    }

    /* Loading animation */
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .loading {
        animation: pulse 2s infinite;
    }

    /* Loading animation */
    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .loading {
        animation: pulse 2s infinite;
    }

    /* New styles for real-time data widgets */
    .wide-card {
        grid-column: span 2;
    }

    .real-time-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }

    .real-time-widget {
        background: rgba(30, 58, 138, 0.1);
        border: 1px solid rgba(30, 58, 138, 0.2);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        position: relative;
    }

    .widget-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .widget-header h4 {
        font-size: 14px;
        color: #94a3b8;
        margin: 0;
        font-weight: 500;
    }

    .live-indicator {
        color: #10b981;
        font-size: 12px;
        font-weight: 600;
        animation: pulse 2s infinite;
    }

    .time-indicator, .percent-indicator, .currency-indicator {
        color: #fbbf24;
        font-size: 12px;
        font-weight: 600;
    }

    .widget-value {
        font-size: 32px;
        font-weight: 700;
        color: #fbbf24;
        margin: 10px 0;
    }

    .widget-change {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
        font-size: 12px;
        color: #10b981;
    }

    .widget-change .fa-arrow-down {
        color: #ef4444;
    }

    .widget-change span {
        color: inherit;
    }

    .refresh-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #94a3b8;
        font-size: 12px;
    }

    #refresh-icon {
        animation: none;
    }

    #refresh-icon.spinning {
        animation: spin 1s linear infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* Campaign Performance Styles */
    .campaigns-list {
        margin-top: 20px;
    }

    .campaign-item {
        background: rgba(30, 58, 138, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
    }

    .campaign-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 15px;
    }

    .campaign-info h4 {
        margin: 0 0 5px 0;
        color: #e2e8f0;
        font-size: 16px;
        font-weight: 600;
    }

    .campaign-status {
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
    }

    .campaign-status.active {
        background: rgba(16, 185, 129, 0.2);
        color: #10b981;
        border: 1px solid rgba(16, 185, 129, 0.3);
    }

    .campaign-status.planned {
        background: rgba(251, 191, 36, 0.2);
        color: #fbbf24;
        border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .campaign-budget {
        color: #94a3b8;
        font-size: 14px;
        font-weight: 500;
    }

    .campaign-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 15px;
        margin-bottom: 15px;
    }

    .campaign-metrics .metric {
        text-align: center;
    }

    .metric-label {
        display: block;
        color: #94a3b8;
        font-size: 12px;
        margin-bottom: 5px;
    }

    .metric-value {
        display: block;
        color: #fbbf24;
        font-size: 16px;
        font-weight: 600;
    }

    /* Calendar Styles */
    .calendar-preview {
        margin-top: 20px;
    }

    .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }

    .calendar-nav {
        background: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.2);
        border-radius: 8px;
        color: #fbbf24;
        padding: 8px 12px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .calendar-nav:hover {
        background: rgba(251, 191, 36, 0.2);
    }

    #calendar-week {
        margin: 0;
        color: #e2e8f0;
        font-size: 16px;
        font-weight: 600;
    }

    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
    }

    .calendar-day {
        background: rgba(30, 58, 138, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 10px 8px;
        min-height: 120px;
    }

    .day-header {
        text-align: center;
        color: #94a3b8;
        font-size: 12px;
        font-weight: 600;
        margin-bottom: 8px;
        text-transform: uppercase;
    }

    .day-content {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .scheduled-post {
        border-radius: 4px;
        padding: 4px 6px;
        font-size: 10px;
        color: white;
        margin-bottom: 2px;
    }

    .scheduled-post.instagram {
        background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
    }

    .scheduled-post.facebook {
        background: #1877f2;
    }

    .scheduled-post.linkedin {
        background: #0a66c2;
    }

    .scheduled-post.twitter {
        background: #1da1f2;
    }

    .post-time {
        display: block;
        font-weight: 600;
    }

    .post-type {
        display: block;
        opacity: 0.9;
    }

    .btn-secondary {
        background: rgba(251, 191, 36, 0.1);
        color: #fbbf24;
        border: 1px solid rgba(251, 191, 36, 0.2);
        border-radius: 8px;
        padding: 8px 16px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .btn-secondary:hover {
        background: rgba(251, 191, 36, 0.2);
        border-color: rgba(251, 191, 36, 0.3);
    }

    /* Notification System */
    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 12px;
        padding: 16px 20px;
        color: #e2e8f0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        transform: translateX(400px);
        opacity: 0;
        transition: all 0.3s ease;
        min-width: 300px;
        max-width: 400px;
    }

    .notification-show {
        transform: translateX(0);
        opacity: 1;
    }

    .notification-content {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .notification-content i {
        font-size: 18px;
    }

    .notification-success {
        border-left: 4px solid #10b981;
    }

    .notification-success .notification-content i {
        color: #10b981;
    }

    .notification-error {
        border-left: 4px solid #ef4444;
    }

    .notification-error .notification-content i {
        color: #ef4444;
    }

    .notification-info {
        border-left: 4px solid #fbbf24;
    }

    .notification-info .notification-content i {
        color: #fbbf24;
    }

    .notification-close {
        position: absolute;
        top: 8px;
        right: 8px;
        background: none;
        border: none;
        color: #94a3b8;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: all 0.2s ease;
    }

    .notification-close:hover {
        color: #e2e8f0;
        background: rgba(255, 255, 255, 0.1);
    }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Header Section -->
    <div class="dashboard-header">
        <div class="header-content">
            <div class="welcome-text">
                <h1>Ol√°, {{ user.first_name|default:user.username }}! üëã</h1>
                <p>Bem-vindo ao seu centro de comando de marketing inteligente</p>
            </div>
            <div class="header-stats">
                <div class="stat-item">
                    <span class="stat-number">{{ stats.conversations|default:12 }}</span>
                    <span class="stat-label">Conversas</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ stats.analyses|default:8 }}</span>
                    <span class="stat-label">An√°lises</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ stats.ideas|default:24 }}</span>
                    <span class="stat-label">Ideias</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Panel -->
    <div class="dashboard-navigation">
        <div class="nav-sidebar">
            <div class="nav-section">
                <h4 class="nav-section-title">Dashboard</h4>
                <button class="nav-item active" data-view="overview" onclick="switchView('overview')">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Vis√£o Geral</span>
                </button>
                <button class="nav-item" data-view="analytics" onclick="switchView('analytics')">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </button>
                <button class="nav-item" data-view="campaigns" onclick="switchView('campaigns')">
                    <i class="fas fa-bullhorn"></i>
                    <span>Campanhas</span>
                </button>
            </div>
            <div class="nav-section">
                <h4 class="nav-section-title">Conte√∫do</h4>
                <button class="nav-item" data-view="content" onclick="switchView('content')">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Calend√°rio</span>
                </button>
                <button class="nav-item" data-view="ideas" onclick="switchView('ideas')">
                    <i class="fas fa-lightbulb"></i>
                    <span>Ideias</span>
                </button>
                <button class="nav-item" data-view="social" onclick="switchView('social')">
                    <i class="fas fa-share-alt"></i>
                    <span>Redes Sociais</span>
                </button>
            </div>
            <div class="nav-section">
                <h4 class="nav-section-title">Insights</h4>
                <button class="nav-item" data-view="insights" onclick="switchView('insights')">
                    <i class="fas fa-brain"></i>
                    <span>IA Insights</span>
                </button>
                <button class="nav-item" data-view="trends" onclick="switchView('trends')">
                    <i class="fas fa-trending-up"></i>
                    <span>Tend√™ncias</span>
                </button>
                <button class="nav-item" data-view="activity" onclick="switchView('activity')">
                    <i class="fas fa-clock"></i>
                    <span>Atividade</span>
                </button>
            </div>
        </div>

        <!-- Main Content Panel -->
        <div class="main-panel">
            <div class="panel-header">
                <h2 class="panel-title" id="current-panel-title">Vis√£o Geral</h2>
                <div class="panel-actions">
                    <button class="panel-action-btn" onclick="refreshCurrentView()">
                        <i class="fas fa-sync-alt"></i>
                        Atualizar
                    </button>
                    <button class="panel-action-btn" onclick="exportCurrentView()">
                        <i class="fas fa-download"></i>
                        Exportar
                    </button>
                </div>
            </div>

            <!-- Dashboard Views -->
            <div class="dashboard-view active" id="overview-view">
                <div class="view-grid">
                    <!-- Quick Actions -->
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-rocket"></i>
                                </div>
                                A√ß√µes R√°pidas
                            </div>
                        </div>
                        <div class="actions-grid">
                            <a href="{% url 'agent:chat' %}" class="action-btn">
                                <i class="fas fa-comments"></i>
                                <span>Nova Conversa</span>
                            </a>
                            <a href="{% url 'agent:marketing_analysis' %}" class="action-btn">
                                <i class="fas fa-chart-line"></i>
                                <span>An√°lise</span>
                            </a>
                            <a href="{% url 'agent:content_ideas' %}" class="action-btn">
                                <i class="fas fa-lightbulb"></i>
                                <span>Ideias</span>
                            </a>
                            <a href="#" class="action-btn" onclick="generateReport()">
                                <i class="fas fa-file-alt"></i>
                                <span>Relat√≥rio</span>
                            </a>
                        </div>
                    </div>

                    <!-- Analytics Summary -->
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                M√©tricas Principais
                            </div>
                        </div>
                        <div class="analytics-metrics">
                            <div class="metric-item">
                                <span class="metric-number">2.4K</span>
                                <div class="metric-label">Engajamento</div>
                                <div class="metric-change positive">+12.5%</div>
                            </div>
                            <div class="metric-item">
                                <span class="metric-number">156</span>
                                <div class="metric-label">Leads</div>
                                <div class="metric-change positive">+8.3%</div>
                            </div>
                            <div class="metric-item">
                                <span class="metric-number">89%</span>
                                <div class="metric-label">Taxa Conv.</div>
                                <div class="metric-change positive">+5.2%</div>
                            </div>
                            <div class="metric-item">
                                <span class="metric-number">R$ 12.8K</span>
                                <div class="metric-label">Receita</div>
                                <div class="metric-change positive">+15.7%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                Atividade Recente
                            </div>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-comments"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">Nova conversa iniciada</div>
                                    <div class="activity-description">Estrat√©gia de conte√∫do para redes sociais</div>
                                    <div class="activity-time">2 horas atr√°s</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">An√°lise de mercado conclu√≠da</div>
                                    <div class="activity-description">Relat√≥rio de tend√™ncias do setor</div>
                                    <div class="activity-time">5 horas atr√°s</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">15 ideias de conte√∫do geradas</div>
                                    <div class="activity-description">Campanha de lan√ßamento de produto</div>
                                    <div class="activity-time">1 dia atr√°s</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Goals Progress -->
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-target"></i>
                                </div>
                                Progresso das Metas
                            </div>
                        </div>
                        <div class="goals-list">
                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-name">Aumentar Engajamento</span>
                                    <span class="goal-percentage">78%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 78%"></div>
                                </div>
                            </div>
                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-name">Gerar Leads Qualificados</span>
                                    <span class="goal-percentage">65%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 65%"></div>
                                </div>
                            </div>
                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-name">Melhorar ROI</span>
                                    <span class="goal-percentage">92%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 92%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics View -->
            <div class="dashboard-view" id="analytics-view">
                <div class="view-grid">
                    <!-- Real-time Metrics -->
                    <div class="view-card large-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-tachometer-alt"></i>
                                </div>
                                M√©tricas em Tempo Real
                            </div>
                            <div class="refresh-indicator">
                                <i class="fas fa-sync-alt" id="refresh-icon"></i>
                                <span class="last-update">Atualizado agora</span>
                            </div>
                        </div>
                        <div class="real-time-grid">
                            <div class="real-time-widget">
                                <div class="widget-header">
                                    <h4>Visitors Online</h4>
                                    <span class="live-indicator">‚óè LIVE</span>
                                </div>
                                <div class="widget-value" id="online-visitors">0</div>
                                <div class="widget-change">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+12% vs ontem</span>
                                </div>
                            </div>
                            <div class="real-time-widget">
                                <div class="widget-header">
                                    <h4>Impress√µes Hoje</h4>
                                    <span class="time-indicator">24h</span>
                                </div>
                                <div class="widget-value" id="impressions-today">0</div>
                                <div class="widget-change">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+8.5% vs ontem</span>
                                </div>
                            </div>
                            <div class="real-time-widget">
                                <div class="widget-header">
                                    <h4>Clicks</h4>
                                    <span class="time-indicator">24h</span>
                                </div>
                                <div class="widget-value" id="clicks-today">0</div>
                                <div class="widget-change">
                                    <i class="fas fa-arrow-down"></i>
                                    <span>-1.2% vs ontem</span>
                                </div>
                            </div>
                            <div class="real-time-widget">
                                <div class="widget-header">
                                    <h4>Custo por Lead</h4>
                                    <span class="currency-indicator">R$</span>
                                </div>
                                <div class="widget-value" id="cost-per-lead">R$ 0</div>
                                <div class="widget-change">
                                    <i class="fas fa-arrow-down"></i>
                                    <span>-5.3% vs ontem</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Campaigns View -->
            <div class="dashboard-view" id="campaigns-view">
                <div class="view-grid">
                    <div class="view-card large-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-bullhorn"></i>
                                </div>
                                Performance de Campanhas
                            </div>
                            <button class="panel-action-btn" onclick="refreshCampaigns()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </button>
                        </div>
                        <div class="campaigns-list">
                            <div class="campaign-item">
                                <div class="campaign-header">
                                    <div class="campaign-info">
                                        <h4>Campanha de Ver√£o 2025</h4>
                                        <span class="campaign-status active">Ativo</span>
                                    </div>
                                    <div class="campaign-budget">R$ 2.500 / R$ 5.000</div>
                                </div>
                                <div class="campaign-metrics">
                                    <div class="metric">
                                        <span class="metric-label">Alcance</span>
                                        <span class="metric-value">45.2K</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Cliques</span>
                                        <span class="metric-value">1.2K</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">CTR</span>
                                        <span class="metric-value">2.67%</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Convers√µes</span>
                                        <span class="metric-value">89</span>
                                    </div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 50%"></div>
                                </div>
                            </div>
                            <div class="campaign-item">
                                <div class="campaign-header">
                                    <div class="campaign-info">
                                        <h4>Black Friday 2025</h4>
                                        <span class="campaign-status planned">Planejado</span>
                                    </div>
                                    <div class="campaign-budget">R$ 0 / R$ 10.000</div>
                                </div>
                                <div class="campaign-metrics">
                                    <div class="metric">
                                        <span class="metric-label">In√≠cio</span>
                                        <span class="metric-value">25 Nov</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Dura√ß√£o</span>
                                        <span class="metric-value">7 dias</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Produtos</span>
                                        <span class="metric-value">15</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Meta</span>
                                        <span class="metric-value">500 vendas</span>
                                    </div>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Calendar View -->
            <div class="dashboard-view" id="content-view">
                <div class="view-grid">
                    <div class="view-card large-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                Calend√°rio de Conte√∫do
                            </div>
                            <button class="panel-action-btn" onclick="openCalendarModal()">
                                <i class="fas fa-plus"></i>
                                Novo Post
                            </button>
                        </div>
                        <div class="calendar-preview">
                            <div class="calendar-header">
                                <button class="calendar-nav" onclick="previousWeek()">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <h4 id="calendar-week">11 - 17 Junho 2025</h4>
                                <button class="calendar-nav" onclick="nextWeek()">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div class="calendar-grid">
                                <div class="calendar-day">
                                    <div class="day-header">Seg</div>
                                    <div class="day-content">
                                        <div class="scheduled-post instagram">
                                            <span class="post-time">09:00</span>
                                            <span class="post-type">Foto</span>
                                        </div>
                                        <div class="scheduled-post facebook">
                                            <span class="post-time">15:00</span>
                                            <span class="post-type">V√≠deo</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-day">
                                    <div class="day-header">Ter</div>
                                    <div class="day-content">
                                        <div class="scheduled-post linkedin">
                                            <span class="post-time">11:00</span>
                                            <span class="post-type">Artigo</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-day">
                                    <div class="day-header">Qua</div>
                                    <div class="day-content">
                                        <div class="scheduled-post instagram">
                                            <span class="post-time">14:00</span>
                                            <span class="post-type">Stories</span>
                                        </div>
                                        <div class="scheduled-post twitter">
                                            <span class="post-time">18:00</span>
                                            <span class="post-type">Tweet</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-day">
                                    <div class="day-header">Qui</div>
                                    <div class="day-content">
                                        <!-- Dia vazio -->
                                    </div>
                                </div>
                                <div class="calendar-day">
                                    <div class="day-header">Sex</div>
                                    <div class="day-content">
                                        <div class="scheduled-post facebook">
                                            <span class="post-time">10:00</span>
                                            <span class="post-type">Carrossel</span>
                                        </div>
                                        <div class="scheduled-post instagram">
                                            <span class="post-time">16:00</span>
                                            <span class="post-type">Reels</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-day">
                                    <div class="day-header">S√°b</div>
                                    <div class="day-content">
                                        <div class="scheduled-post instagram">
                                            <span class="post-time">12:00</span>
                                            <span class="post-type">Foto</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-day">
                                    <div class="day-header">Dom</div>
                                    <div class="day-content">
                                        <!-- Dia vazio -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ideas View -->
            <div class="dashboard-view" id="ideas-view">
                <div class="view-grid">
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                Gerador de Ideias
                            </div>
                        </div>
                        <div class="ideas-generator">
                            <p>Use nossa IA para gerar ideias personalizadas de conte√∫do para suas campanhas.</p>
                            <a href="{% url 'agent:content_ideas' %}" class="action-btn large">
                                <i class="fas fa-magic"></i>
                                <span>Gerar Novas Ideias</span>
                            </a>
                        </div>
                    </div>
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-list"></i>
                                </div>
                                Ideias Recentes
                            </div>
                        </div>
                        <div class="ideas-list">
                            <div class="idea-item">
                                <div class="idea-title">Post sobre sustentabilidade</div>
                                <div class="idea-description">Como sua empresa contribui para um futuro sustent√°vel</div>
                                <div class="idea-tags">
                                    <span class="tag">Instagram</span>
                                    <span class="tag">LinkedIn</span>
                                </div>
                            </div>
                            <div class="idea-item">
                                <div class="idea-title">V√≠deo de bastidores</div>
                                <div class="idea-description">Mostrando o dia a dia da equipe</div>
                                <div class="idea-tags">
                                    <span class="tag">TikTok</span>
                                    <span class="tag">Stories</span>
                                </div>
                            </div>
                            <div class="idea-item">
                                <div class="idea-title">Tutorial de produto</div>
                                <div class="idea-description">Como usar suas principais funcionalidades</div>
                                <div class="idea-tags">
                                    <span class="tag">YouTube</span>
                                    <span class="tag">Instagram</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Social Media View -->
            <div class="dashboard-view" id="social-view">
                <div class="view-grid">
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fab fa-instagram"></i>
                                </div>
                                Instagram
                            </div>
                        </div>
                        <div class="social-metrics">
                            <div class="metric">
                                <span class="metric-value">12.5K</span>
                                <span class="metric-label">Seguidores</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">4.2%</span>
                                <span class="metric-label">Engajamento</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">89</span>
                                <span class="metric-label">Posts este m√™s</span>
                            </div>
                        </div>
                    </div>
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fab fa-facebook"></i>
                                </div>
                                Facebook
                            </div>
                        </div>
                        <div class="social-metrics">
                            <div class="metric">
                                <span class="metric-value">8.9K</span>
                                <span class="metric-label">Seguidores</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">3.1%</span>
                                <span class="metric-label">Engajamento</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">34</span>
                                <span class="metric-label">Posts este m√™s</span>
                            </div>
                        </div>
                    </div>
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fab fa-linkedin"></i>
                                </div>
                                LinkedIn
                            </div>
                        </div>
                        <div class="social-metrics">
                            <div class="metric">
                                <span class="metric-value">5.2K</span>
                                <span class="metric-label">Seguidores</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">6.8%</span>
                                <span class="metric-label">Engajamento</span>
                            </div>
                            <div class="metric">
                                <span class="metric-value">12</span>
                                <span class="metric-label">Posts este m√™s</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Insights View -->
            <div class="dashboard-view" id="insights-view">
                <div class="view-grid">
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                Insights da IA
                            </div>
                        </div>
                        <div class="insights-list">
                            <div class="insight-item priority-high">
                                <div class="insight-header">
                                    <span class="insight-title">‚ö° Oportunidade Cr√≠tica</span>
                                    <span class="insight-priority">Alta</span>
                                </div>
                                <div class="insight-description">
                                    Seus posts com perguntas t√™m 34% mais engajamento. Considere incluir mais call-to-action.
                                </div>
                                <button class="insight-action" onclick="scheduleOptimalPost()">Agendar Post</button>
                            </div>
                            <div class="insight-item priority-medium">
                                <div class="insight-header">
                                    <span class="insight-title">üå± Tend√™ncia Emergente</span>
                                    <span class="insight-priority">M√©dia</span>
                                </div>
                                <div class="insight-description">
                                    Sustentabilidade est√° em alta no seu setor. Crie conte√∫do sobre responsabilidade social.
                                </div>
                                <button class="insight-action" onclick="generateSustainabilityContent()">Gerar Conte√∫do</button>
                            </div>
                            <div class="insight-item priority-low">
                                <div class="insight-header">
                                    <span class="insight-title">üìä An√°lise Competitiva</span>
                                    <span class="insight-priority">Baixa</span>
                                </div>
                                <div class="insight-description">
                                    Sua concorr√™ncia aumentou postagens em 23%. Mantenha-se competitivo.
                                </div>
                                <button class="insight-action" onclick="analyzeCompetition()">Analisar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trends View -->
            <div class="dashboard-view" id="trends-view">
                <div class="view-grid">
                    <div class="view-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-trending-up"></i>
                                </div>
                                Tend√™ncias de Mercado
                            </div>
                        </div>
                        <div class="trends-list">
                            <div class="trend-item">
                                <div class="trend-header">
                                    <span class="trend-title">V√≠deos Curtos</span>
                                    <span class="trend-impact">Alto Impacto</span>
                                </div>
                                <div class="trend-description">
                                    Formato de v√≠deo curto (15-30s) est√° gerando 45% mais engajamento que posts tradicionais.
                                </div>
                            </div>
                            <div class="trend-item">
                                <div class="trend-header">
                                    <span class="trend-title">IA Conversacional</span>
                                    <span class="trend-impact">Alto Impacto</span>
                                </div>
                                <div class="trend-description">
                                    Chatbots com IA est√£o melhorando a convers√£o em 34% no atendimento ao cliente.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Activity View -->
            <div class="dashboard-view" id="activity-view">
                <div class="view-grid">
                    <div class="view-card large-card">
                        <div class="view-card-header">
                            <div class="view-card-title">
                                <div class="view-card-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                Hist√≥rico de Atividades
                            </div>
                        </div>
                        <div class="activity-timeline">
                            <div class="timeline-item">
                                <div class="timeline-marker marketing">
                                    <i class="fas fa-bullhorn"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="timeline-header">
                                        <span class="timeline-title">Campanha "Ver√£o 2025" ativada</span>
                                        <span class="timeline-time">2h atr√°s</span>
                                    </div>
                                    <div class="timeline-description">
                                        Nova campanha de marketing digital foi iniciada com or√ßamento de R$ 5.000
                                    </div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-marker sales">
                                    <i class="fas fa-handshake"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="timeline-header">
                                        <span class="timeline-title">5 novos leads qualificados</span>
                                        <span class="timeline-time">4h atr√°s</span>
                                    </div>
                                    <div class="timeline-description">
                                        Leads gerados atrav√©s da campanha no Instagram e LinkedIn
                                    </div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-marker content">
                                    <i class="fas fa-calendar"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="timeline-header">
                                        <span class="timeline-title">12 posts agendados</span>
                                        <span class="timeline-time">6h atr√°s</span>
                                    </div>
                                    <div class="timeline-description">
                                        Calend√°rio editorial da pr√≥xima semana foi finalizado
                                    </div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-marker ai">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="timeline-content">
                                    <div class="timeline-header">
                                        <span class="timeline-title">IA gerou 12 insights</span>
                                        <span class="timeline-time">1d atr√°s</span>
                                    </div>
                                    <div class="timeline-description">
                                        An√°lise de performance e recomenda√ß√µes estrat√©gicas foram geradas
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize dashboard
    initializeDashboard();
    
    // Animate progress bars
    setTimeout(() => {
        const progressBars = document.querySelectorAll('.progress-fill');
        progressBars.forEach(bar => {
            const width = bar.style.width;
            bar.style.width = '0%';
            setTimeout(() => {
                bar.style.width = width;
            }, 200);
        });
    }, 500);
    
    // Animate counter numbers in header
    const statNumbers = document.querySelectorAll('.stat-number');
    statNumbers.forEach(stat => {
        const finalValue = parseInt(stat.textContent);
        if (!isNaN(finalValue)) {
            let currentValue = 0;
            const increment = finalValue / 30;
            
            const counter = setInterval(() => {
                currentValue += increment;
                if (currentValue >= finalValue) {
                    stat.textContent = finalValue;
                    clearInterval(counter);
                } else {
                    stat.textContent = Math.floor(currentValue);
                }
            }, 50);
        }
    });
    
    // Initialize real-time data
    setTimeout(updateRealTimeData, 1000);
    
    // Initialize calendar week
    updateCalendarWeek();
});

// Dashboard Navigation Functions
function switchView(viewName) {
    // Remove active class from all nav items
    document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
    });
    
    // Add active class to clicked nav item
    document.querySelector(`[data-view="${viewName}"]`).classList.add('active');
    
    // Hide all dashboard views
    document.querySelectorAll('.dashboard-view').forEach(view => {
        view.classList.remove('active');
    });
    
    // Show selected view
    document.getElementById(`${viewName}-view`).classList.add('active');
    
    // Update panel title
    const titles = {
        'overview': 'Vis√£o Geral',
        'analytics': 'Analytics',
        'campaigns': 'Campanhas',
        'content': 'Calend√°rio de Conte√∫do',
        'ideas': 'Gerador de Ideias',
        'social': 'Redes Sociais',
        'insights': 'Insights da IA',
        'trends': 'Tend√™ncias de Mercado',
        'activity': 'Hist√≥rico de Atividades'
    };
    
    document.getElementById('current-panel-title').textContent = titles[viewName] || 'Dashboard';
}

function initializeDashboard() {
    // Set default view
    switchView('overview');
    
    // Initialize auto-refresh for real-time data
    setInterval(updateRealTimeData, 30000); // Update every 30 seconds
}

// Panel Action Functions
function refreshCurrentView() {
    const activeView = document.querySelector('.dashboard-view.active').id;
    
    // Show loading state
    const button = event.target.closest('button');
    const icon = button.querySelector('.fa-sync-alt');
    icon.classList.add('spinning');
    
    // Simulate refresh
    setTimeout(() => {
        icon.classList.remove('spinning');
        showNotification('Dados atualizados com sucesso!', 'success');
        
        // Trigger specific refresh based on active view
        if (activeView === 'analytics-view') {
            updateRealTimeData();
        } else if (activeView === 'campaigns-view') {
            refreshCampaigns();
        }
    }, 1500);
}

function exportCurrentView() {
    const activeView = document.querySelector('.dashboard-view.active').id;
    const viewName = activeView.replace('-view', '');
    
    showNotification(`Exportando dados de ${viewName}...`, 'info');
    
    // Simulate export
    setTimeout(() => {
        showNotification('Dados exportados com sucesso!', 'success');
    }, 2000);
}

// Real-time Data Update
function updateRealTimeData() {
    const widgets = [
        { id: 'online-visitors', min: 45, max: 120 },
        { id: 'impressions-today', min: 8500, max: 15000 },
        { id: 'clicks-today', min: 150, max: 450 },
        { id: 'cost-per-lead', min: 12, max: 45, prefix: 'R$ ' }
    ];
    
    widgets.forEach(widget => {
        const element = document.getElementById(widget.id);
        if (element) {
            const value = Math.floor(Math.random() * (widget.max - widget.min) + widget.min);
            const formattedValue = widget.prefix ? widget.prefix + value : 
                                 value > 1000 ? (value/1000).toFixed(1) + 'K' : value;
            
            element.textContent = formattedValue;
        }
    });
    
    // Update refresh indicator
    const refreshIndicator = document.querySelector('.last-update');
    if (refreshIndicator) {
        refreshIndicator.textContent = 'Atualizado agora';
    }
}

// Utility function for spinning animation
document.addEventListener('DOMContentLoaded', function() {
    const style = document.createElement('style');
    style.textContent = `
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .spinning {
            animation: spin 1s linear infinite;
        }
    `;
    document.head.appendChild(style);
});

// Notification system
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <div class="notification-content">
            <span class="notification-message">${message}</span>
            <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `;
    
    // Add notification styles if not present
    if (!document.querySelector('#notification-styles')) {
        const style = document.createElement('style');
        style.id = 'notification-styles';
        style.textContent = `
            .notification {
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(15, 23, 42, 0.95);
                border: 1px solid rgba(255,255,255,0.15);
                border-radius: 12px;
                padding: 15px 20px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.5);
                z-index: 1000;
                min-width: 300px;
                max-width: 400px;
                backdrop-filter: blur(12px);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            }
            .notification-show {
                transform: translateX(0);
            }
            .notification-content {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 15px;
            }
            .notification-message {
                color: #e2e8f0;
                font-size: 14px;
                font-weight: 500;
            }
            .notification-close {
                background: none;
                border: none;
                color: #94a3b8;
                cursor: pointer;
                padding: 4px;
                border-radius: 4px;
                transition: all 0.2s ease;
            }
            .notification-close:hover {
                color: #e2e8f0;
                background: rgba(255, 255, 255, 0.1);
            }
            .notification-success {
                border-left: 4px solid #10b981;
            }
            .notification-error {
                border-left: 4px solid #ef4444;
            }
            .notification-info {
                border-left: 4px solid #3b82f6;
            }
        `;
        document.head.appendChild(style);
    }
    
    document.body.appendChild(notification);
    
    // Trigger animation
    setTimeout(() => {
        notification.classList.add('notification-show');
    }, 100);
    
    // Auto remove after 4 seconds
    setTimeout(() => {
        notification.classList.remove('notification-show');
        setTimeout(() => {
            if (notification.parentElement) {
                notification.remove();
            }
        }, 300);
    }, 4000);
}

// Quick Action Functions
function generateReport() {
    showNotification('Funcionalidade de relat√≥rio ser√° implementada em breve!', 'info');
}

function schedulePost() {
    showNotification('Funcionalidade de agendamento ser√° implementada em breve!', 'info');
}

function competitorAnalysis() {
    showNotification('Funcionalidade de an√°lise de concorr√™ncia ser√° implementada em breve!', 'info');
}

function scheduleOptimalPost() {
    showNotification('Agendando post para hor√°rio otimizado...', 'success');
}

function generateSustainabilityContent() {
    showNotification('Gerando conte√∫do sobre sustentabilidade...', 'success');
}

function analyzeCompetition() {
    showNotification('Analisando movimentos da concorr√™ncia...', 'info');
}

// Calendar functions
let currentWeekOffset = 0;

function previousWeek() {
    currentWeekOffset--;
    updateCalendarWeek();
}

function nextWeek() {
    currentWeekOffset++;
    updateCalendarWeek();
}

function updateCalendarWeek() {
    const calendarWeek = document.getElementById('calendar-week');
    if (!calendarWeek) return;
    
    const baseDate = new Date();
    baseDate.setDate(baseDate.getDate() + (currentWeekOffset * 7));
    
    const startOfWeek = new Date(baseDate);
    startOfWeek.setDate(baseDate.getDate() - baseDate.getDay() + 1);
    
    const endOfWeek = new Date(startOfWeek);
    endOfWeek.setDate(startOfWeek.getDate() + 6);
    
    const formatDate = (date) => {
        return date.getDate().toString().padStart(2, '0');
    };
    
    const formatMonth = (date) => {
        const months = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 
                       'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
        return months[date.getMonth()];
    };
    
    calendarWeek.textContent = `${formatDate(startOfWeek)} - ${formatDate(endOfWeek)} ${formatMonth(endOfWeek)} ${endOfWeek.getFullYear()}`;
}

function openCalendarModal() {
    showNotification('Modal de agendamento ser√° implementado em breve!', 'info');
}

function refreshCampaigns() {
    const button = event.target.closest('button');
    const icon = button.querySelector('.fa-sync-alt');
    
    if (icon) {
        icon.classList.add('spinning');
    }
    
    setTimeout(() => {
        if (icon) {
            icon.classList.remove('spinning');
        }
        
        // Simulate data update
        const metrics = document.querySelectorAll('.campaign-item .metric-value');
        metrics.forEach(metric => {
            if (metric.textContent.includes('K')) {
                const baseValue = parseFloat(metric.textContent.replace('K', ''));
                const newValue = (baseValue + Math.random() * 2 - 1).toFixed(1);
                metric.textContent = newValue + 'K';
            } else if (metric.textContent.includes('%')) {
                const baseValue = parseFloat(metric.textContent.replace('%', ''));
                const newValue = (baseValue + Math.random() * 0.5 - 0.25).toFixed(2);
                metric.textContent = newValue + '%';
            }
        });
        
        showNotification('Campanhas atualizadas com sucesso!', 'success');
    }, 2000);
}
</script>
{% endblock %}
